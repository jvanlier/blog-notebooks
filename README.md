# Jupyter Notebooks for my blog

This repo contains the notebooks for my [blog](https://jvlanalytics.nl/blog). 

Each directory is supposed to be fully self-contained, ideally with a requirements.txt file in order to be able to reproduce environments easily. There should be one `.ipynb` file containing the actual post (code + markdown). There may also be other `.py/.ipynb` files, but they aren't used to render the blog.

Self-contained also means that data will be part of the repo if it's small (and not confidential). If it's too large and unreasonably blows up the repo: place it on online storage and include a script to acquire the data. The subdir `README.md` should contain all necessary instructions to reproduce the result. Referring to a different blog post's data is ok.

A simple executable Python script inside `_nb_to_blog_tool` converts the post and images to a format that can be consumed by Jekyll. This can be installed with `pip` (e.g. `pip install -e .` while in the directory).

Conventions:
- Name of resulting markdown filename (and thus link in Jekyll) = name of directory. The notebook filename can be whatever. Let's assume the directory is called `awesome-blog-post`. 
- Embedded images are converted to files by `nbconvert` and moved to `/assets/blog/awesome-blog-post/img_nb`
- Any other public assets must be placed in a subdir "assets". The entire contents will end up in `/assets/blog/awesome-blog-post/`
- Standalone images must be placed in subdir "assets/img". The tool will do its best to re-write references to this location in the markdown file.
- References to anything else, e.g. videos, must currently be updated manually in the markdown file.
- First cell of Notebook contains the Jekyll header in Raw NBConvert, e.g.:

```
---
layout: post
title:  "Awesome Blog Post"
date:   2020-03-31 14:00:00 +0200
categories: blog
permalink: awesome-blog-post
math: true
---
```

Tool usage:
	
	nb-to-blog.py awesome-blog-post/post.ipynb

Output:

	_output/_post/awesome-blog-post.md
	_output/assets/blog/awesome-blog-post/img_nb/<jupyter-nbconvert-autogenerated-filename>.png
	_output/assets/blog/awesome-blog-post/img/custom-image.png
	... 

Just copy each of these to the root of the blog and you should be fine. Try not to make changes in the `.md` file if can be done in the Notebook. Make them in the Notebook and export again.

